{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"AUTH BACKEND","text":""},{"location":"#descripcion","title":"Descripci\u00f3n","text":"<p>Esta API proporciona un sistema de autenticaci\u00f3n robusto basado en FastAPI, permitiendo el manejo de usuarios, inicio de sesi\u00f3n, cierre de sesi\u00f3n, validaci\u00f3n y renovaci\u00f3n de tokens JWT, as\u00ed como recuperaci\u00f3n y cambio de contrase\u00f1as.</p>"},{"location":"#caracteristicas","title":"Caracter\u00edsticas","text":"<ul> <li>Autenticaci\u00f3n basada en JWT: Emisi\u00f3n, validaci\u00f3n y renovaci\u00f3n de tokens.</li> <li>Gesti\u00f3n de usuarios: Inicio de sesi\u00f3n, cierre de sesi\u00f3n y validaci\u00f3n de credenciales.</li> <li>Protecci\u00f3n con Rate Limiting: Restricci\u00f3n de llamadas para evitar abusos.</li> <li>Recuperaci\u00f3n de contrase\u00f1a: Env\u00edo de c\u00f3digo por correo electr\u00f3nico y cambio de clave.</li> </ul>"},{"location":"estructura/","title":"Estructura del Proyecto","text":"<p>Este documento describe la estructura del proyecto, detallando la funci\u00f3n de cada carpeta y archivo clave.</p>"},{"location":"estructura/#archivos-raiz","title":"Archivos Ra\u00edz","text":"<ul> <li><code>CONTRIBUTORS.md</code>: Lista de colaboradores del proyecto.</li> <li><code>CHANGELOG.md</code>: Registro de cambios en cada versi\u00f3n.</li> <li><code>Dockerfile</code>: Archivo de configuraci\u00f3n para crear la imagen Docker.</li> <li><code>LICENSE</code>: Licencia del proyecto.</li> <li><code>README.md</code>: Documentaci\u00f3n principal del proyecto.</li> <li><code>SECURITY.md</code>: Informaci\u00f3n sobre seguridad y vulnerabilidades.</li> <li><code>alembic.ini</code>: Configuraci\u00f3n de Alembic para migraciones de base de datos.</li> <li><code>cargue.sql</code>: Script SQL para carga inicial de datos.</li> <li><code>docker-compose.yml</code>: Configuraci\u00f3n de Docker Compose.</li> <li><code>main.py</code>: Punto de entrada principal del proyecto.</li> <li><code>requirements.txt</code>: Lista de dependencias del proyecto.</li> </ul>"},{"location":"estructura/#directorios","title":"Directorios","text":""},{"location":"estructura/#app","title":"<code>app</code>","text":"<pre><code>.\n\u251c\u2500\u2500 CONTRIBUTORS.md\n\u251c\u2500\u2500 CHANGELOG.md\n\u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 SECURITY.md\n\u251c\u2500\u2500 alembic.ini\n\u251c\u2500\u2500 app\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 api\n\u2502   \u2502   \u251c\u2500\u2500 application\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 interface\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 interface_modules_adapter.py\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 interface_organizations_adapter.py\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 interface_permission_adapter.py\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 interface_roles_adapter.py\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 interface_user_adapter.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 use_cases.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 use_modules.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 use_organization.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 use_permission.py\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 use_roles.py\n\u2502   \u2502   \u251c\u2500\u2500 auth\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 auth.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 encript.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 hashing.py\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 token.py\n\u2502   \u2502   \u251c\u2500\u2500 entrypoints\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 module_router.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 organizations_router.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 permissions_router.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 roles_router.py\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 user_router.py\n\u2502   \u2502   \u251c\u2500\u2500 routes.py\n\u2502   \u2502   \u2514\u2500\u2500 schemas\n\u2502   \u2502       \u251c\u2500\u2500 auth_schema.py\n\u2502   \u2502       \u251c\u2500\u2500 organizations_schema.py\n\u2502   \u2502       \u2514\u2500\u2500 rol_schema.py\n\u2502   \u251c\u2500\u2500 core\n\u2502   \u2502   \u251c\u2500\u2500 config.py\n\u2502   \u2502   \u251c\u2500\u2500 database.py\n\u2502   \u2502   \u2514\u2500\u2500 rate_limit.py\n\u2502   \u251c\u2500\u2500 dependencies\n\u2502   \u2502   \u251c\u2500\u2500 conection.py\n\u2502   \u2502   \u251c\u2500\u2500 cors.py\n\u2502   \u2502   \u251c\u2500\u2500 email_send.py\n\u2502   \u2502   \u251c\u2500\u2500 generate_code.py\n\u2502   \u2502   \u251c\u2500\u2500 location.py\n\u2502   \u2502   \u251c\u2500\u2500 logging_config.py\n\u2502   \u2502   \u2514\u2500\u2500 message.py\n\u2502   \u251c\u2500\u2500 domain\n\u2502   \u2502   \u251c\u2500\u2500 components.py\n\u2502   \u2502   \u251c\u2500\u2500 modules.py\n\u2502   \u2502   \u251c\u2500\u2500 organizations.py\n\u2502   \u2502   \u251c\u2500\u2500 payment.py\n\u2502   \u2502   \u251c\u2500\u2500 permissions.py\n\u2502   \u2502   \u251c\u2500\u2500 relations\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 module_rol.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 rol_permission.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 user_code_password.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 user_module.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 user_permission.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 user_rol.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 users_organization.py\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 users_token.py\n\u2502   \u2502   \u251c\u2500\u2500 roles.py\n\u2502   \u2502   \u251c\u2500\u2500 sesiones.py\n\u2502   \u2502   \u2514\u2500\u2500 users.py\n\u2502   \u251c\u2500\u2500 infrastructure\n\u2502   \u2502   \u251c\u2500\u2500 module_repository.py\n\u2502   \u2502   \u251c\u2500\u2500 organization_repository.py\n\u2502   \u2502   \u251c\u2500\u2500 permission_repository.py\n\u2502   \u2502   \u251c\u2500\u2500 repositories.py\n\u2502   \u2502   \u2514\u2500\u2500 roles_repository.py\n\u2502   \u251c\u2500\u2500 main.py\n\u2502   \u251c\u2500\u2500 middleware\n\u2502   \u2502   \u2514\u2500\u2500 middlewares.py\n\u2502   \u2514\u2500\u2500 tests\n\u2502       \u251c\u2500\u2500 test_connection.py\n\u2502       \u2514\u2500\u2500 test_main.py\n\u251c\u2500\u2500 cargue.sql\n\u251c\u2500\u2500 cli\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 createpermission.py\n\u2502   \u251c\u2500\u2500 createsuperadmin.py\n\u2502   \u2514\u2500\u2500 generatekey.py\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 main.py\n\u251c\u2500\u2500 migrations\n\u2502   \u251c\u2500\u2500 README\n\u2502   \u251c\u2500\u2500 env.py\n\u2502   \u251c\u2500\u2500 script.py.mako\n\u2502   \u2514\u2500\u2500 versions\n\u2502       \u251c\u2500\u2500 a516ccffbe8a_add_model_sessions.py\n\u2502       \u251c\u2500\u2500 a9ee29d470c6_fix_relationship_between_users_and_.py\n\u2502       \u251c\u2500\u2500 b7151f40e09a_add_model_sessions.py\n\u2502       \u251c\u2500\u2500 da893587d6b8_update_users_and_organizations_models.py\n\u2502       \u251c\u2500\u2500 edf927787bb9_corregir_relaciones_entre_users_roles_y_.py\n\u2502       \u251c\u2500\u2500 eee002796fb9_info_de_token.py\n\u2502       \u251c\u2500\u2500 ef13cb2e79a5_corrige_relaci\u00f3n_usuarios_y_roles.py\n\u2502       \u2514\u2500\u2500 f5164e61a5e2_fix_rol_permission_table.py\n\u2514\u2500\u2500 requirements.txt\n</code></pre> <p>C\u00f3digo principal del backend.</p> <ul> <li><code>api/</code></li> <li><code>application/</code>: L\u00f3gica de aplicaci\u00f3n y casos de uso.<ul> <li><code>interface/</code>: Adaptadores de interfaz para comunicaci\u00f3n entre capas.</li> <li><code>use_cases.py</code>, <code>use_modules.py</code>, etc.: Implementaciones espec\u00edficas de casos de uso.</li> </ul> </li> <li><code>auth/</code>: M\u00f3dulos de autenticaci\u00f3n.<ul> <li><code>auth.py</code>: Manejo de autenticaci\u00f3n.</li> <li><code>encript.py</code>, <code>hashing.py</code>: Funciones de cifrado.</li> <li><code>token.py</code>: Gesti\u00f3n de tokens.</li> </ul> </li> <li><code>entrypoints/</code>: Rutas de entrada de la API.</li> <li><code>routes.py</code>: Definici\u00f3n de rutas principales.</li> <li> <p><code>schemas/</code>: Esquemas de datos y validaci\u00f3n.</p> </li> <li> <p><code>core/</code>: Configuraci\u00f3n y utilidades esenciales.</p> </li> <li><code>config.py</code>: Configuraci\u00f3n del sistema.</li> <li><code>database.py</code>: Conexi\u00f3n a la base de datos.</li> <li> <p><code>rate_limit.py</code>: Implementaci\u00f3n de rate limiting.</p> </li> <li> <p><code>dependencies/</code>: Dependencias inyectables y utilidades.</p> </li> <li><code>conection.py</code>: Conexi\u00f3n a servicios externos.</li> <li><code>cors.py</code>: Configuraci\u00f3n de CORS.</li> <li> <p><code>email_send.py</code>, <code>generate_code.py</code>, etc.: Servicios auxiliares.</p> </li> <li> <p><code>domain/</code>: Modelos y l\u00f3gica de negocio.</p> </li> <li> <p><code>relations/</code>: Relaciones entre modelos.</p> </li> <li> <p><code>infrastructure/</code>: Repositorios y acceso a datos.</p> </li> <li> <p><code>middleware/</code>: Middlewares personalizados.</p> </li> <li> <p><code>tests/</code>: Pruebas automatizadas.</p> </li> <li><code>test_connection.py</code>: Pruebas de conexi\u00f3n.</li> <li><code>test_main.py</code>: Pruebas del sistema principal.</li> </ul>"},{"location":"estructura/#cli","title":"<code>cli</code>","text":"<p>Scripts de l\u00ednea de comandos. - <code>createpermission.py</code>, <code>createsuperadmin.py</code>: Scripts de administraci\u00f3n.</p>"},{"location":"estructura/#migrations","title":"<code>migrations</code>","text":"<p>Manejo de migraciones de base de datos con Alembic. - <code>versions/</code>: Archivos de migraci\u00f3n espec\u00edficos.</p>"},{"location":"estructura/#notas-adicionales","title":"Notas Adicionales","text":"<p>Este proyecto sigue una arquitectura modular y limpia, asegurando una separaci\u00f3n clara entre capas de aplicaci\u00f3n, infraestructura y dominio.</p>"},{"location":"instalacion/","title":"Instalaci\u00f3n","text":""},{"location":"instalacion/#prerrequisitos","title":"Prerrequisitos","text":"<ul> <li>Python 3.9+</li> <li>Docker y Docker Compose</li> </ul>"},{"location":"instalacion/#instalacion-con-docker","title":"Instalaci\u00f3n con Docker","text":"<pre><code>git clone https://github.com/tu-repo/api-auth.git\ncd api-auth\ndocker-compose up --build\n</code></pre>"},{"location":"instalacion/#configuracion","title":"Configuraci\u00f3n","text":"<ol> <li>Crea un archivo .env en la ra\u00edz del proyecto con el siguiente contenido:</li> </ol> <pre><code>TYPE_DB=\nHOST_DB=\nUSER_DB=\nPASSWORD_DB=\nNAME_DB=\nPORT_DB=\nALGORITHM=\nSECRET_KEY=\n</code></pre> <p>La API estar\u00e1 disponible en <code>http://localhost:8000</code>.</p> <p>La documentacion de swagger estar\u00e1 disponible en <code>http://localhost:8000/docs</code>.</p>"},{"location":"instalacion/#endpoints-principales","title":"Endpoints principales","text":"M\u00e9todo Endpoint Descripci\u00f3n POST <code>/api/auth/login</code> Iniciar sesi\u00f3n y obtener un token JWT GET <code>/api/auth/validate-token</code> Validar si un token es v\u00e1lido POST <code>/api/auth/refresh</code> Refrescar un token JWT GET <code>/api/auth/logout</code> Cerrar sesi\u00f3n POST <code>/api/auth/password-reset</code> Solicitar c\u00f3digo para restablecer contrase\u00f1a GET <code>/api/auth/verify-code/{username}/{code}</code> Verificar c\u00f3digo de restablecimiento de contrase\u00f1a PUT <code>/api/auth/password-change</code> Cambiar contrase\u00f1a con un c\u00f3digo verificado"},{"location":"instalacion/#seguridad","title":"Seguridad","text":"<ul> <li>JWT Tokens: Se utilizan tokens de acceso y actualizaci\u00f3n.</li> <li>Rate Limiting: Protecci\u00f3n contra abuso de solicitudes.</li> <li>Registro de actividad: Se guarda informaci\u00f3n sobre accesos y cambios de credenciales.</li> </ul> <p>Para m\u00e1s detalles, consulta la secci\u00f3n de Referencia de la API.</p>"},{"location":"uso/","title":"Uso","text":""},{"location":"uso/#usando-docker","title":"Usando Docker","text":"<ol> <li>Construye y levanta los contenedores:</li> </ol> <pre><code>docker-compose up --build\n</code></pre> <p>Listar los contenedores</p> <pre><code>docker ps\n\n</code></pre> CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e1fd25725f3e mkdocs \"mkdocs serve -a 0.0\u2026\" 14 minutes ago Up 14 minutes 0.0.0.0:9000-&gt;9000/tcp document-backend 4bcdda2dc31c auth-backend-auth \"fastapi run app/mai\u2026\" 5 days ago Up 2 hours 0.0.0.0:8000-&gt;8000/tcp auth <p>Dentro de contenedor con el comando </p> <pre><code>docker exec -it &lt;container_id&gt; sh\n</code></pre>"},{"location":"uso/#usando-python","title":"Usando Python","text":""},{"location":"uso/#nota","title":"Nota:","text":"<p>Este proceso se puede realizar si hay tablas nuevas o si se cambian las relaciones</p> <pre><code>alembic revision --autogenerate -m \"\"\nalembic upgrade head\n</code></pre> <ol> <li>Inicia la aplicaci\u00f3n:</li> </ol> <pre><code>uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload\n</code></pre>"},{"location":"uso/#nota_1","title":"Nota:","text":"<p>Este proceso se realiza una sola vez.</p>"},{"location":"uso/#crea-una-key-para-los-tokens","title":"Crea una key para los tokens","text":"<p>Dentro del Contenedor Creamos una key con el comando del cli de la siguente manera  Para generar una clave secreta aleatoria, usa el siguiente comando:</p> <pre><code>python3 main.py generatekey\n</code></pre> <p>Nos pedira que ingresemos el tama\u00f1o en bytes -&gt; ejemplo 54</p> <pre><code>Ingrese el tama\u00f1o de bytes que usar\u00e1 para la key: 54\n</code></pre> <pre><code>Secret Key: bce5670b4629406dc5af34decca3efdb97ea8c1eb1dfcbfcc48ba8877b120a002eae79c0b43aa7585f884fe8861ea1b4c4a5dbb95e63\nCopy the key and paste it in the .env file\n</code></pre>"},{"location":"uso/#generar-superadmin","title":"Generar superadmin","text":"<p>Para generar un usuario admin, usa el siguiente comando:</p> <pre><code>python3 main.py createsuperadmin\n</code></pre> <pre><code>def createsuperadmin():\n    \"\"\"Crea un usuario administrador\"\"\"\n    console.print(\"\ud83d\ude80 Creando usuario administrador...\", style=\"bold green\")\n    first_name = Prompt.ask(\"Nombre\")\n    last_name = Prompt.ask(\"Apellido\")\n    email = Prompt.ask(\"Email\")\n    cellphone = Prompt.ask(\"Cellphone\")\n    username = Prompt.ask(\"Username\")\n\n</code></pre>"},{"location":"uso/#ejemplo","title":"Ejemplo","text":"<pre><code>\ud83d\ude80 Creando usuario administrador...\nNombre: jhon\nApellido: Doe\nEmail: jhondoe@correo.com\nCellphone: 1111111111\nUsername: jhondoe\nContrase\u00f1a: \nConfirmar contrase\u00f1a: \n\n</code></pre>"},{"location":"endpoints/auth/","title":"Documentaci\u00f3n del M\u00f3dulo de Autenticaci\u00f3n","text":""},{"location":"endpoints/auth/#endpoints","title":"Endpoints","text":""},{"location":"endpoints/auth/#1-iniciar-sesion","title":"1. Iniciar Sesi\u00f3n","text":"<p>Endpoint: <code>POST /login</code></p> <p>Descripci\u00f3n: Permite a los usuarios iniciar sesi\u00f3n en el sistema y obtener un token de autenticaci\u00f3n.</p> <p>Par\u00e1metros: - <code>username</code> (str, requerido): Nombre de usuario o correo. - <code>password</code> (str, requerido): Contrase\u00f1a del usuario.</p> <p>Respuesta: - <code>200 OK</code>: Retorna un token de acceso. - <code>401 Unauthorized</code>: Credenciales incorrectas. - <code>404 Not Found</code>: Usuario no encontrado.</p> <p>Ejemplo de Respuesta:</p> <pre><code>{\n    \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"token_type\": \"bearer\"\n}\n</code></pre>"},{"location":"endpoints/auth/#2-validar-token","title":"2. Validar Token","text":"<p>Endpoint: <code>GET /validate-token</code></p> <p>Descripci\u00f3n: Verifica la validez de un token JWT.</p> <p>Par\u00e1metros: - <code>Authorization</code> (Header, requerido): Token JWT en formato <code>Bearer &lt;token&gt;</code>.</p> <p>Respuesta: - <code>200 OK</code>: Token v\u00e1lido. - <code>401 Unauthorized</code>: Token inv\u00e1lido o expirado. - <code>429 Too Many Requests</code>: Se excedi\u00f3 el l\u00edmite de peticiones.</p> <p>Ejemplo de Respuesta:</p> <pre><code>{\n    \"message\": \"Token v\u00e1lido\"\n}\n</code></pre>"},{"location":"endpoints/auth/#3-refrescar-token","title":"3. Refrescar Token","text":"<p>Endpoint: <code>POST /refresh</code></p> <p>Descripci\u00f3n: Genera un nuevo token de acceso utilizando un refresh token.</p> <p>Par\u00e1metros: - <code>Authorization</code> (Header, requerido): Refresh token en formato <code>Bearer &lt;token&gt;</code>.</p> <p>Respuesta: - <code>200 OK</code>: Retorna un nuevo token de acceso. - <code>401 Unauthorized</code>: Token inv\u00e1lido. - <code>429 Too Many Requests</code>: Se excedi\u00f3 el l\u00edmite de peticiones.</p> <p>Ejemplo de Respuesta:</p> <pre><code>{\n    \"access_token\": \"nuevo_token_jwt\",\n    \"token_type\": \"bearer\"\n}\n</code></pre>"},{"location":"endpoints/auth/#4-cerrar-sesion","title":"4. Cerrar Sesi\u00f3n","text":"<p>Endpoint: <code>GET /logout</code></p> <p>Descripci\u00f3n: Revoca el token de autenticaci\u00f3n del usuario.</p> <p>Par\u00e1metros: - <code>Authorization</code> (Header, requerido): Token JWT en formato <code>Bearer &lt;token&gt;</code>.</p> <p>Respuesta: - <code>200 OK</code>: Cierre de sesi\u00f3n exitoso. - <code>401 Unauthorized</code>: Token inv\u00e1lido. - <code>429 Too Many Requests</code>: Se excedi\u00f3 el l\u00edmite de peticiones.</p> <p>Ejemplo de Respuesta:</p> <pre><code>{\n    \"message\": \"Cierre de sesi\u00f3n exitoso\"\n}\n</code></pre>"},{"location":"endpoints/auth/#5-restablecer-contrasena","title":"5. Restablecer Contrase\u00f1a","text":"<p>Endpoint: <code>POST /password-reset</code></p> <p>Descripci\u00f3n: Env\u00eda un c\u00f3digo de recuperaci\u00f3n de contrase\u00f1a al correo del usuario.</p> <p>Par\u00e1metros: - <code>username</code> (str, requerido): Nombre de usuario. - <code>email</code> (str, requerido): Correo electr\u00f3nico registrado.</p> <p>Respuesta: - <code>200 OK</code>: C\u00f3digo enviado correctamente. - <code>404 Not Found</code>: Usuario no encontrado. - <code>429 Too Many Requests</code>: Se excedi\u00f3 el l\u00edmite de peticiones.</p> <p>Ejemplo de Respuesta:</p> <pre><code>{\n    \"message\": \"Correo de recuperaci\u00f3n enviado exitosamente.\"\n}\n</code></pre>"},{"location":"endpoints/auth/#6-verificar-codigo-de-recuperacion","title":"6. Verificar C\u00f3digo de Recuperaci\u00f3n","text":"<p>Endpoint: <code>GET /verify-code/{username}/{code}</code></p> <p>Descripci\u00f3n: Valida el c\u00f3digo de recuperaci\u00f3n de contrase\u00f1a.</p> <p>Par\u00e1metros: - <code>username</code> (str, requerido): Nombre de usuario. - <code>code</code> (int, requerido): C\u00f3digo de verificaci\u00f3n.</p> <p>Respuesta: - <code>200 OK</code>: C\u00f3digo v\u00e1lido. - <code>400 Bad Request</code>: C\u00f3digo incorrecto o expirado. - <code>404 Not Found</code>: Usuario no encontrado. - <code>429 Too Many Requests</code>: Se excedi\u00f3 el l\u00edmite de peticiones.</p> <p>Ejemplo de Respuesta:</p> <pre><code>{\n    \"message\": \"C\u00f3digo verificado correctamente. Puede proceder con el cambio de contrase\u00f1a.\"\n}\n</code></pre>"},{"location":"endpoints/auth/#7-cambiar-contrasena","title":"7. Cambiar Contrase\u00f1a","text":"<p>Endpoint: <code>PUT /password-change</code></p> <p>Descripci\u00f3n: Permite cambiar la contrase\u00f1a de un usuario.</p> <p>Par\u00e1metros: - <code>username</code> (str, requerido): Nombre de usuario. - <code>password</code> (str, requerido): Nueva contrase\u00f1a.</p> <p>Respuesta: - <code>200 OK</code>: Contrase\u00f1a cambiada exitosamente. - <code>400 Bad Request</code>: Contrase\u00f1a d\u00e9bil. - <code>404 Not Found</code>: Usuario no encontrado. - <code>429 Too Many Requests</code>: Se excedi\u00f3 el l\u00edmite de peticiones.</p> <p>Ejemplo de Respuesta:</p> <pre><code>{\n    \"message\": \"Contrase\u00f1a cambiada exitosamente.\"\n}\n</code></pre>"},{"location":"endpoints/auth/#seguridad","title":"Seguridad","text":"<ul> <li>Todos los endpoints utilizan <code>JWT</code> para autenticaci\u00f3n.</li> <li>Se aplican l\u00edmites de peticiones (<code>Rate Limiting</code>) para prevenir abusos.</li> <li>El cambio de contrase\u00f1a requiere validaci\u00f3n previa con un c\u00f3digo enviado al correo.</li> </ul>"},{"location":"endpoints/modulos/","title":"Documentaci\u00f3n de Roles","text":""},{"location":"endpoints/modulos/#obtener-modulos","title":"Obtener M\u00f3dulos","text":""},{"location":"endpoints/modulos/#endpoint-get-modules","title":"Endpoint: <code>GET /modules</code>","text":""},{"location":"endpoints/modulos/#descripcion","title":"Descripci\u00f3n:","text":"<p>Obtiene la lista de m\u00f3dulos disponibles en el sistema para el usuario autenticado.</p>"},{"location":"endpoints/modulos/#autenticacion","title":"Autenticaci\u00f3n:","text":"<p>Este endpoint requiere autenticaci\u00f3n mediante un token JWT v\u00e1lido.</p>"},{"location":"endpoints/modulos/#rate-limiting","title":"Rate Limiting:","text":"<p>Se aplica un l\u00edmite de peticiones para usuarios autenticados definido en <code>RATELIMITS[\"authenticated\"]</code>.</p>"},{"location":"endpoints/modulos/#parametros","title":"Par\u00e1metros:","text":"<ul> <li>Authorization (Header, requerido): Se debe enviar un token JWT en el encabezado <code>Authorization</code> con el formato <code>Bearer &lt;token&gt;</code>.</li> </ul>"},{"location":"endpoints/modulos/#respuesta","title":"Respuesta:","text":""},{"location":"endpoints/modulos/#codigo-200-ok","title":"C\u00f3digo 200 - OK","text":"<p>Si la solicitud es exitosa, devuelve un JSON con la lista de m\u00f3dulos:</p> <pre><code>[\n    {\n        \"id\": 1,\n        \"nombre\": \"Gesti\u00f3n de Usuarios\",\n        \"descripcion\": \"Permite administrar los usuarios del sistema.\",\n        \"is_active\": true,\n        \"is_deleted\": false\n    },\n    {\n        \"id\": 2,\n        \"nombre\": \"Reportes\",\n        \"descripcion\": \"Acceso a la generaci\u00f3n de reportes.\",\n        \"is_active\": true,\n        \"is_deleted\": false\n    }\n]\n</code></pre>"},{"location":"endpoints/modulos/#codigo-401-unauthorized","title":"C\u00f3digo 401 - Unauthorized","text":"<p>Si el token es inv\u00e1lido o ha expirado:</p> <pre><code>{\n    \"detail\": \"Token inv\u00e1lido\"\n}\n</code></pre>"},{"location":"endpoints/modulos/#codigo-429-too-many-requests","title":"C\u00f3digo 429 - Too Many Requests","text":"<p>Si se excede el l\u00edmite de peticiones: ```json {     \"detail\": \"Too</p>"},{"location":"endpoints/organizaciones/","title":"Documentaci\u00f3n de la API de Organizaciones","text":""},{"location":"endpoints/organizaciones/#endpoints","title":"Endpoints","text":""},{"location":"endpoints/organizaciones/#crear-una-organizacion","title":"Crear una organizaci\u00f3n","text":"<p>Endpoint:</p> <pre><code>POST /organization\n</code></pre> <p>Descripci\u00f3n: Crea una nueva organizaci\u00f3n en el sistema.</p> <p>Par\u00e1metros: - <code>name</code> (str, requerido): Nombre de la organizaci\u00f3n. - <code>description</code> (str, opcional): Descripci\u00f3n de la organizaci\u00f3n. - <code>subscription_plan</code> (str, requerido): Plan de suscripci\u00f3n elegido.</p> <p>Respuesta:</p> <pre><code>{\n    \"id\": 1,\n    \"name\": \"Mi Empresa\",\n    \"description\": \"Una organizaci\u00f3n de prueba\",\n    \"subscription_plan\": \"Premium\",\n    \"is_active\": true,\n    \"created_at\": \"2025-03-03T12:00:00\",\n    \"owner\": {\n        \"id\": 10,\n        \"username\": \"admin\",\n        \"fullname\": \"Admin User\",\n        \"email\": \"admin@example.com\",\n        \"cellphone\": \"123456789\"\n    },\n    \"users\": []\n}\n</code></pre>"},{"location":"endpoints/organizaciones/#obtener-una-organizacion-por-id","title":"Obtener una organizaci\u00f3n por ID","text":"<p>Endpoint:</p> <pre><code>GET /organization/{organization_id}\n</code></pre> <p>Descripci\u00f3n: Obtiene la informaci\u00f3n detallada de una organizaci\u00f3n espec\u00edfica, incluyendo su propietario y usuarios asociados.</p> <p>Par\u00e1metros: - <code>organization_id</code> (int, requerido): ID de la organizaci\u00f3n.</p> <p>Respuesta:</p> <pre><code>{\n    \"id\": 1,\n    \"name\": \"Mi Empresa\",\n    \"description\": \"Una organizaci\u00f3n de prueba\",\n    \"subscription_plan\": \"Premium\",\n    \"is_active\": true,\n    \"created_at\": \"2025-03-03T12:00:00\",\n    \"owner\": {\n        \"id\": 10,\n        \"username\": \"admin\",\n        \"fullname\": \"Admin User\",\n        \"email\": \"admin@example.com\",\n        \"cellphone\": \"123456789\"\n    },\n    \"users\": [\n        {\n            \"id\": 11,\n            \"username\": \"usuario1\",\n            \"fullname\": \"Usuario Ejemplo\",\n            \"email\": \"usuario1@example.com\",\n            \"cellphone\": \"987654321\"\n        }\n    ]\n}\n</code></pre>"},{"location":"endpoints/organizaciones/#obtener-todas-las-organizaciones","title":"Obtener todas las organizaciones","text":"<p>Endpoint:</p> <pre><code>GET /organizations\n</code></pre> <p>Descripci\u00f3n: Obtiene la lista de todas las organizaciones registradas en el sistema.</p> <p>Respuesta:</p> <pre><code>[\n    {\n        \"id\": 1,\n        \"name\": \"Mi Empresa\",\n        \"description\": \"Una organizaci\u00f3n de prueba\",\n        \"subscription_plan\": \"Premium\",\n        \"is_active\": true,\n        \"created_at\": \"2025-03-03T12:00:00\",\n        \"owner\": {\n            \"id\": 10,\n            \"username\": \"admin\",\n            \"fullname\": \"Admin User\",\n            \"email\": \"admin@example.com\",\n            \"cellphone\": \"123456789\"\n        },\n        \"users\": []\n    }\n]\n</code></pre>"},{"location":"endpoints/organizaciones/#seguridad","title":"Seguridad","text":"<p>Todos los endpoints requieren autenticaci\u00f3n mediante un token JWT v\u00e1lido, que debe enviarse en el encabezado <code>Authorization: Bearer &lt;token&gt;</code>.</p>"},{"location":"endpoints/organizaciones/#limites-de-rata-rate-limiting","title":"L\u00edmites de Rata (Rate Limiting)","text":"<p>Cada endpoint est\u00e1 protegido con restricciones de acceso seg\u00fan las reglas de <code>RATELIMITS[\"authenticated\"]</code> para evitar el abuso del sistema.</p>"}]}